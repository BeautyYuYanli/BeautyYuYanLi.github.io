<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.1.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/uploads/custom-logo.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/custom-logo.jpg">
  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/custom-logo.jpg">
  <link rel="mask-icon" href="/uploads/custom-logo.jpg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"beautyyu.top","root":"/","scheme":"Gemini","version":"8.0.0-rc.5","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":false,"nav":null,"activeClass":"gitalk"},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
<meta property="og:type" content="website">
<meta property="og:title" content="银河美术馆-Beautyyu">
<meta property="og:url" content="http://beautyyu.top/page/3/index.html">
<meta property="og:site_name" content="银河美术馆-Beautyyu">
<meta property="og:description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="BeautyYu言醴">
<meta property="article:tag" content="Beautyyu言醴">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://beautyyu.top/page/3/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>银河美术馆-Beautyyu</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="银河美术馆-Beautyyu" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">银河美术馆-Beautyyu</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">Beautyyu言醴的个人独立博客</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-aboutme">

    <a href="/aboutme/" rel="section"><i class="fa fa-user fa-fw"></i>aboutme</a>

  </li>
        <li class="menu-item menu-item-messageboard">

    <a href="/messageboard/" rel="section"><i class="fa fa-user fa-fw"></i>messageboard</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">33</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">3</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">45</span></a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="BeautyYu言醴"
      src="/uploads/custom-logo.jpg">
  <p class="site-author-name" itemprop="name">BeautyYu言醴</p>
  <div class="site-description" itemprop="description">热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学</div>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/beautyyuyanli" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;beautyyuyanli" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:beautyyuyanli@gmail.com" title="E-Mail → mailto:beautyyuyanli@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/gpRDv2nEWyWAZug" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;gpRDv2nEWyWAZug" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
  </div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://www.weisheng.cf/" title="http:&#x2F;&#x2F;www.weisheng.cf" rel="noopener" target="_blank">微笙计协</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://qufy.me/" title="https:&#x2F;&#x2F;qufy.me" rel="noopener" target="_blank">Queensferry</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://qwq.cafe/" title="https:&#x2F;&#x2F;qwq.cafe" rel="noopener" target="_blank">hookan</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="http://www.juruoyun.top/" title="http:&#x2F;&#x2F;www.juruoyun.top" rel="noopener" target="_blank">蒟蒻云</a>
        </li>
    </ul>
  </div>

      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">
      

      
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://beautyyu.top/2018/09/24/2018-9-24-%E5%85%B3%E4%BA%8E%E7%99%BE%E5%9B%A2%E5%A4%A7%E6%88%982018/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/custom-logo.jpg">
      <meta itemprop="name" content="BeautyYu言醴">
      <meta itemprop="description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="银河美术馆-Beautyyu">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/09/24/2018-9-24-%E5%85%B3%E4%BA%8E%E7%99%BE%E5%9B%A2%E5%A4%A7%E6%88%982018/" class="post-title-link" itemprop="url">关于百团大战2018</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-09-24 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-24T00:00:00+08:00">2018-09-24</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>趁着自己还能记得一些事情,把百团大战的感想写一写.</p>
<hr>
<p>事实上,百团大战是第一次自己全权负责的活动.</p>
<p>由于去年百团情况并不是很理想,可以说这次自己是从头开始的一次探索.更何况,社团的香火延续堪称大事.</p>
<p>无疑,自己承担了相当大的压力.</p>
<p>尽管自己在全程中承担了大部分的工作,不过所幸的是,微笙这个<code>没人社团</code>里还是有许多人帮上了大忙.尤其要感谢陈峰宇同学,虽然有点傻乎乎的还有点中二,但是前期宣传和百团当天迎接新生的过程中实在是帮上了大忙.没有他的话我一个人完全应付不来.当然,雁琳,奕鑫等等其他人也提供了一定程度上的帮助,不一一赘述了.</p>
<p>按顺序讲讲百团全过程的准备工作吧</p>
<hr>
<h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><p>要准备的事情实在是太多了,不过总结一下的话大概这么几点</p>
<ul>
<li>包括海报在内的事前宣传</li>
<li>社联方面的工作协调(包括场地安排)</li>
<li>百团当天的展示项目</li>
<li>百团当天的纳新信息表</li>
</ul>
<p>准备工作在百团当周的周三才开始进行,时间上略显紧促,虽然最后顺利的完成了各项工作,但总体上还略显粗糙</p>
<h4 id="事前宣传"><a href="#事前宣传" class="headerlink" title="事前宣传"></a>事前宣传</h4><p>本来在军训期间就进班写了小黑板宣传,后来开学后又发了小传单,百团前一周又转发了几遍说说,纳新群和18年oi群都发了全员消息和公告,算是比较到位了.</p>
<p>海报做起来比较赶时间.我设计成了比较通用的样式,可以多次使用.</p>
<p>顺便还把logo给重置了,然后当成了新的会旗图案.花的时间不亏.</p>
<p>希望新一年会有美工完成这方面的工作..</p>
<p><img src="" alt="img"></p>
<h4 id="社联方面的工作协调"><a href="#社联方面的工作协调" class="headerlink" title="社联方面的工作协调"></a>社联方面的工作协调</h4><p>主要是要填活动申请表和场地安排.</p>
<h5 id="活动申请表"><a href="#活动申请表" class="headerlink" title="活动申请表"></a>活动申请表</h5><p>出现了重大事故!由于没写好申请桌椅物资,导致后来只能征用其他人的桌椅以及捡其它社团挑完剩下的..</p>
<h5 id="场地安排"><a href="#场地安排" class="headerlink" title="场地安排"></a>场地安排</h5><p>社联发的地图实在是充满魔幻主义气息..我会的地点看起来像是在泮池水上..</p>
<p><img src="" alt="img"></p>
<p>仔细观察后我发现我会的场地可能会被其它社团挡住..通过身为湄轩副社的张晨晖得知了整面实验楼侧墙居然只有湄轩一个社团!所以就和晨晖商量了一下搬到了那里.最后和社联主席报备了就完事.</p>
<p>(虽然百团当天这块地方最后是被微笙湄轩魔方社手工社四个社团共同瓜分了..不过场地也绰绰有余!!</p>
<p>不得不说协调后场地是在是明智的决定!身处漫研社和街舞社两个人流量磁铁中间,蹭到流量实在不少(虽然也有一点私心就是了hhh</p>
<h4 id="百团当天的展示项目"><a href="#百团当天的展示项目" class="headerlink" title="百团当天的展示项目"></a>百团当天的展示项目</h4><p>经过思考后选中了四个项目</p>
<ul>
<li>mordament</li>
<li>压扁小鸟</li>
<li>2048(原创)</li>
<li>自动诗人(原创)</li>
</ul>
<p>百团当天有人问是不是原创..总是难以回答..</p>
<p>希望新一年会有更多的原创作品!</p>
<p>其中压扁小鸟和2048反响最好.看来还是娱乐性比较重要hhhh</p>
<p>数独部的单独卷子难度上偏高了..尽管卷子发完了但是交卷的基本没有..</p>
<h4 id="纳新信息表"><a href="#纳新信息表" class="headerlink" title="纳新信息表"></a>纳新信息表</h4><p>问题设计包括能力调查和自由回答</p>
<p>能力调查中查出了许多大佬,自由回答则发现了许多有趣的小朋友hhh</p>
<p>个人对信息表设计还是比较满意的</p>
<p>不过个人信息部分留的空格太小,以至于看不清填表者的姓名和qq号..在统计阶段造成了不小的困扰</p>
<p>但是!!数量上实在太多了,竟然印了200张..导致了另一些本来不必要的麻烦..</p>
<hr>
<h3 id="当天"><a href="#当天" class="headerlink" title="当天"></a>当天</h3><p>所谓计划赶不上变化..实在是体验的很明显..</p>
<p>由于桌椅申请手续有问题,导致后来只能征用其他人的桌椅以及捡其它社团挑完剩下的.</p>
<p>本来只是计划4张桌子足矣,但是看到对面漫研摆了整整一排!所以就让人又搬了一些,总共7张,一字排开还算挺长.</p>
<p>事实证明!桌子数量就是排面!尽管只有三台笔记本,但是桌子还是满满当当地围着人.所以说,人手充足的情况下,桌子数量就是排面!!</p>
<p>说道笔记本.由于室外没法接电线,所以四处借笔记本.由于准备开始的时间晚了,最后只借到了两台笔记本,算上自己三台.尽管电池很不行,但还是恰好度过了最繁忙的两个小时.</p>
<p>人手也是大问题.我会副会级和部长级分别是在役竞赛生,湄轩副社,摄协成员,滑板社成员..导致社团节前一天我发现竟然只有我一个人接待新生!!</p>
<p>所以当陈峰宇问我需不需要帮忙的时候,我简直要哭了..迎接新生的时候陈峰宇真的真的帮上了大忙,尤其是开头一个小时!!所幸后来雁琳也来了,算是轻松一些..</p>
<p>不过一开始雁琳不在的时候,许多新生问怎么没有小姐姐,甚至有女孩子没敢靠近..所以说有女孩子迎接新生还是很重要的!</p>
<p>还有海报.我直接把海报贴在了背后的宣传栏上面了..以至于存在感极低极低..早知道的话就做长条海报顺便申请海报展架了..</p>
<hr>
<h3 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h3><p>当天回家后实在是累得不行,躺在床上根本不想动..</p>
<p>如果不是因为身为社团负责人,我根本不会挤进拥挤的人潮..更不会有一下午和上百人交谈的经历..当然,不得不说,是很珍贵的经历</p>
<p>结束活动的时候发现手上厚厚的一沓表格,实在感到非常满足.微笙计协作为只有一岁的没人社团,终于也迎来了第一批新人.</p>
<p>然后就是统计的过程了.通过表格信息发现了许多dalao(可供日后使唤hhh),但是由于前文提到的原因出现了信息上的不正确emmm</p>
<p>接着就要准备一下第一次全社大会了.在这之前还需要尽快确定新会服,课程安排,以及一些兜售的小零件之类…</p>
<hr>
<p>越是疲倦,越不能歇.</p>
<p>祝自己和微笙计协都能够越来越好.</p>
<p>文结.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://beautyyu.top/2018/09/15/2018-9-15-luogu1268%E6%A0%91%E7%9A%84%E9%87%8D%E9%87%8F%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/custom-logo.jpg">
      <meta itemprop="name" content="BeautyYu言醴">
      <meta itemprop="description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="银河美术馆-Beautyyu">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/09/15/2018-9-15-luogu1268%E6%A0%91%E7%9A%84%E9%87%8D%E9%87%8F%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">luogu1268树的重量|题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-09-15 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-15T00:00:00+08:00">2018-09-15</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>本文引用洛谷图床图片可能无法显示,请复制链接至新标签页查看</p>
<blockquote>
<p>树可以用来表示物种之间的进化关系。一棵“进化树”是一个带边权的树，其叶节点表示一个物种，两个叶节点之间的距离表示两个物种的差异。现在，一个重要的问题是，根据物种之间的距离，重构相应的“进化树”。</p>
<p>令N={1..n}，用一个N上的矩阵M来定义树T。其中，矩阵M满足：对于任意的i，j，k，有M[i,j] + M[j,k] &gt;= M[i,k]。树T满足：</p>
<p>1．叶节点属于集合N；</p>
<p>2．边权均为非负整数；</p>
<p>3．dT(i,j)=M[i,j]，其中dT(i,j)表示树上i到j的最短路径长度。</p>
<p>如下图，矩阵M描述了一棵树。</p>
<p><img src="https://pics1.beautyyu.top/origin.png" alt="img"> </p>
<p>树的重量是指树上所有边权之和。对于任意给出的合法矩阵M，它所能表示树的重量是惟一确定的，不可能找到两棵不同重量的树，它们都符合矩阵M。你的任务就是，根据给出的矩阵M，计算M所表示树的重量。下图是上面给出的矩阵M所能表示的一棵树，这棵树的总重量为15。</p>
<p><img src="https://pics1.beautyyu.top/origin.png" alt="img"></p>
</blockquote>
<p>非常巧妙的一道构造题.</p>
<hr>
<p>题面指出 $对于任意的i,j,k 有M[i,j] + M[j,k] \geq M[i,k]$</p>
<p>那么很显然$M$描述的是两点之间的最短路了,也就是$M[i,j]=M[i,lca(i,j)]+M[j,lca(i,j)]$</p>
<hr>
<p>我们取出一个叶子节点$a$,将它作为树根.</p>
<p>接下来我们逐个将叶子加入这颗树里.这个叶子一定会产生一个新枝,我们把这个叶子产生的枝加入答案$ans$</p>
<p>对于第二个叶子$b$,显然它只能直接和$a$连一条边,$ans=M[a,b]$</p>
<p>对于第三个叶子$c$,显然它只能加入链$[a,b]$中,根据$M$的信息我们可以算出$c$产生的枝长度$L$为$(M[a,c]+M[b,c]-M[a,b])/2$,将这个数字加入$ans$</p>
<p>对于第四个叶子$d$,事情就没有这么简单了.它有可能加入链$[a,b]$,分枝长度$L_1$;也有可能加入链$[a,c]$,分枝长度$L_2$.我们分类讨论不同情况:</p>
<ol>
<li>分支点位于$[a,lca(b,c)]$,则$L_1=L_2$</li>
<li>分支点位于$[lca(b,c),b]$,则$L_1$为$d$到$lca(b,d)$的距离;$L_2$为$d$到$lca(c,d)即lca(b,c)$的距离.显然$L_1&lt;L_2$.如果我们认为$L$为$L_2$,那么$lca(b,d)到lca(b,c)$的这一段距离就会重复计算(我们在加入$b$的时候就把这一段加入$ans$了).所以$L$为$L_1$</li>
<li>分支点位于$[lca(b,c),c]$的时候情形同上</li>
</ol>
<p>综上,对于第四个节点,$L=\min(L_1,L_2)$</p>
<p>……</p>
<p>推广到第$n$个节点,$L=\min{L_i}$</p>
<p><img src="https://pics1.beautyyu.top/origin/iaPOOI.png" alt="img"> </p>
<p><img src="https://pics1.beautyyu.top/origin/iaPjmt.png" alt="img"> </p>
<p>图片引自<a target="_blank" rel="noopener" href="https://pics1.beautyyu.top/origin-p1268">TsReaper的博客</a></p>
<hr>
<p>代码如下</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL int</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">LL map_[<span class="number">100</span>][<span class="number">100</span>],len[<span class="number">100</span>],n;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line">                <span class="keyword">if</span> (n == <span class="number">0</span>)</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                        <span class="built_in">memset</span>(map_,<span class="number">0</span>,<span class="keyword">sizeof</span>(map_));</span><br><span class="line">                        <span class="built_in">memset</span>(len,<span class="number">0x3f</span>,<span class="keyword">sizeof</span>(len));</span><br><span class="line">                        <span class="keyword">for</span> (LL i = <span class="number">1</span>;i &lt;= n;++ i)&#123;</span><br><span class="line">                                <span class="keyword">for</span> (LL j = <span class="number">1</span> + i;j &lt;= n;++ j)&#123;</span><br><span class="line">                                        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;map_[i][j]);</span><br><span class="line">                                        map_[j][i] = map_[i][j];</span><br><span class="line">                                &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                LL ans = len[<span class="number">2</span>] = map_[<span class="number">1</span>][<span class="number">2</span>];</span><br><span class="line">                <span class="keyword">for</span> (LL i = <span class="number">3</span>;i &lt;= n;++ i)&#123;</span><br><span class="line">                        <span class="keyword">for</span> (LL j = <span class="number">2</span>;j &lt; i;++ j)&#123;</span><br><span class="line">                                len[i] = <span class="built_in">min</span>(len[i],(map_[i][j] + map_[i][<span class="number">1</span>] - map_[<span class="number">1</span>][j]) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                        ans += len[i];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,ans);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>文结</p>
<p><img src="https://pics1.beautyyu.top/origin/PKOh5D.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://beautyyu.top/2018/09/04/2018-9-04-NOI2001%E7%82%AE%E5%85%B5%E9%98%B5%E5%9C%B0%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/custom-logo.jpg">
      <meta itemprop="name" content="BeautyYu言醴">
      <meta itemprop="description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="银河美术馆-Beautyyu">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/09/04/2018-9-04-NOI2001%E7%82%AE%E5%85%B5%E9%98%B5%E5%9C%B0%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">NOI2001炮兵阵地|题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-09-04 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-04T00:00:00+08:00">2018-09-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>司令部的将军们打算在N<em>M的网格地图上部署他们的炮兵部队。一个N</em>M的地图由N行M列组成，地图的每一格可能是山地（用“H”  表示），也可能是平原（用“P”表示），如下图。在每一格平原地形上最多可以布置一支炮兵部队（山地上不能够部署炮兵部队）；一支炮兵部队在地图上的攻击范围如图中黑色区域所示：</p>
<p><img src="https://pics1.beautyyu.top/origin.png" alt="img"> </p>
<p>如果在地图中的灰色所标识的平原上部署一支炮兵部队，则图中的黑色的网格表示它能够攻击到的区域：沿横向左右各两格，沿纵向上下各两格。图上其它白色网格均攻击不到。从图上可见炮兵的攻击范围不受地形的影响。   现在，将军们规划如何部署炮兵部队，在防止误伤的前提下（保证任何两支炮兵部队之间不能互相攻击，即任何一支炮兵部队都不在其他支炮兵部队的攻击范围内），在整个地图区域内最多能够摆放多少我军的炮兵部队。</p>
</blockquote>
<p>是一道经典的状压dp题,很可惜代码丑得自己都看不下去..</p>
<p>设$f(i,S_{self},S_{father})$为考虑前i行,第i行状态为$S_{self}$,第i-1行状态为$S_{father}$时的最优解</p>
<p>设$cnt(S)$为状态$S$上放置炮兵的数量</p>
<p>转移方程为<br>$$<br>f(i,S_{self},S_{father})=max{f(i-1,S_{father},S_{grandfather})+cnt(S_{self})}<br>$$<br>按顺序枚举$S_{self},S_{father},S_{grandfather}$进行转移,枚举时应当保证三个$S$互不冲突且对于地形合法</p>
<p>注意两点:</p>
<ol>
<li>要考虑$S$可以为空集,即该行不放炮兵</li>
<li>注意滚动数组优化,否则空间不足</li>
</ol>
<p>代码如下</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL int </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line">LL map_[<span class="number">200</span>],dp[<span class="number">2</span>][<span class="number">2000</span>][<span class="number">2000</span>],p = <span class="number">0</span>;</span><br><span class="line"><span class="function">LL <span class="title">cal</span><span class="params">(LL se)</span></span>&#123;</span><br><span class="line">        LL cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (se)&#123;</span><br><span class="line">                se -= se&amp;(-se);</span><br><span class="line">                cnt ++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> cnt;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">        LL n,m;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        <span class="keyword">for</span> (LL i = <span class="number">1</span>;i &lt;= n;++ i)&#123;</span><br><span class="line">                map_[i] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (LL j = <span class="number">1</span>;j &lt;= m;++ j)&#123;</span><br><span class="line">                        <span class="keyword">char</span> al = getchar();</span><br><span class="line">                        <span class="keyword">while</span> (al != <span class="string">&#x27;P&#x27;</span> &amp;&amp; al != <span class="string">&#x27;H&#x27;</span>) al = getchar();</span><br><span class="line">                        map_[i] &lt;&lt;= <span class="number">1</span>;</span><br><span class="line">                        <span class="keyword">if</span> (al == <span class="string">&#x27;P&#x27;</span>)</span><br><span class="line">                                map_[i] |= <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(dp,<span class="number">0</span>,<span class="keyword">sizeof</span>(dp));</span><br><span class="line">        <span class="keyword">for</span> (LL s = map_[<span class="number">1</span>];s;s = (s - <span class="number">1</span>) &amp; map_[<span class="number">1</span>])&#123;</span><br><span class="line">                <span class="keyword">if</span> (((s &lt;&lt; <span class="number">1</span>) &amp; s) || ((s &lt;&lt; <span class="number">2</span>) &amp; s))</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                dp[<span class="number">0</span>][<span class="number">0</span>][s] = cal(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (LL k = <span class="number">2</span>;k &lt;= n;++ k)&#123;</span><br><span class="line">                p = !p;</span><br><span class="line">                <span class="keyword">for</span> (LL se = map_[k];se!=<span class="number">-1</span>;se = se?(se - <span class="number">1</span>) &amp; map_[k]:<span class="number">-1</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span> (((se &lt;&lt; <span class="number">1</span>) &amp; se) || ((se &lt;&lt; <span class="number">2</span>) &amp; se))</span><br><span class="line">                                <span class="keyword">continue</span>;</span><br><span class="line">                        LL cal_se = cal(se);</span><br><span class="line">                        LL tmp = map_[k - <span class="number">1</span>]&amp;(~se);</span><br><span class="line">                        <span class="keyword">for</span> (LL fa = tmp;fa!=<span class="number">-1</span>;fa = fa?(fa - <span class="number">1</span>) &amp; tmp:<span class="number">-1</span>)&#123;</span><br><span class="line">                                dp[p][fa][se] = <span class="number">0</span>;</span><br><span class="line">                                <span class="keyword">if</span> (((fa &lt;&lt; <span class="number">1</span>) &amp; fa) || ((fa &lt;&lt; <span class="number">2</span>) &amp; fa))</span><br><span class="line">                                        <span class="keyword">continue</span>;</span><br><span class="line">                                LL tmp1 = map_[k - <span class="number">2</span>]&amp;(~fa)&amp;(~se);</span><br><span class="line">                                <span class="keyword">for</span> (LL gfa = tmp1;gfa!=<span class="number">-1</span>;gfa = gfa?(gfa - <span class="number">1</span>) &amp; tmp1:<span class="number">-1</span>)&#123;</span><br><span class="line">                                        <span class="keyword">if</span> (((gfa &lt;&lt; <span class="number">1</span>) &amp; gfa) || ((gfa &lt;&lt; <span class="number">2</span>) &amp; gfa))</span><br><span class="line">                                                <span class="keyword">continue</span>;</span><br><span class="line">                                        dp[p][fa][se] = <span class="built_in">max</span>(dp[p][fa][se],dp[!p][gfa][fa]+cal_se);</span><br><span class="line">                                &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        LL ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (LL se = map_[n];se!=<span class="number">-1</span>;se = se?(se - <span class="number">1</span>) &amp; map_[n]:<span class="number">-1</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span> (((se &lt;&lt; <span class="number">1</span>) &amp; se) || ((se &lt;&lt; <span class="number">2</span>) &amp; se))</span><br><span class="line">                        <span class="keyword">continue</span>;</span><br><span class="line">                LL tmp = map_[n<span class="number">-1</span>]&amp;(~se);</span><br><span class="line">                <span class="keyword">for</span> (LL fa = tmp;fa != <span class="number">-1</span>;fa = fa?(fa - <span class="number">1</span>) &amp; tmp:<span class="number">-1</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span> (((fa &lt;&lt; <span class="number">1</span>) &amp; fa) || ((fa &lt;&lt; <span class="number">2</span>) &amp; fa))</span><br><span class="line">                                <span class="keyword">continue</span>;</span><br><span class="line">                        ans = <span class="built_in">max</span>(ans,dp[p][fa][se]);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文结</p>
<p><img src="https://pics1.beautyyu.top/origin/PwLj1J.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://beautyyu.top/2018/09/04/2018-9-04-SDOI2009_SuperGCD%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/custom-logo.jpg">
      <meta itemprop="name" content="BeautyYu言醴">
      <meta itemprop="description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="银河美术馆-Beautyyu">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/09/04/2018-9-04-SDOI2009_SuperGCD%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">SDOI2009_SuperGCD|题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-09-04 00:00:00" itemprop="dateCreated datePublished" datetime="2018-09-04T00:00:00+08:00">2018-09-04</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>一道恶心人的毒瘤题:高精度gcd</p>
<p>注意到,<strong>在高精度运算中取模是通过重复相减实现的</strong></p>
<p>所以对于高精度gcd,<strong>辗转相除法和更相减损术是一样的</strong></p>
<p>那档燃是写<strong>更相减损术</strong>啦</p>
<p>这毒瘤题还卡常,所以就搞了几个小把戏:</p>
<ol>
<li>把高精度减法直接重载为<code>-=</code></li>
<li>采取亿进制(事实上甚至可以写成万亿进制)</li>
</ol>
<p>不得不说高精度运算是很坑的算法,建议除了<code>构造函数</code>和重载<code>赋值符</code>之外所有成员函数都应该用<code>const</code>修饰</p>
<p>以及亿进制下的输出也是一个很麻烦的事情…</p>
<p>代码如下</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">big_int</span>&#123;</span></span><br><span class="line">        LL data[<span class="number">25000</span>],len;</span><br><span class="line">        big_int(<span class="keyword">char</span> *al)&#123;</span><br><span class="line">                LL al_len = <span class="built_in">strlen</span>(al),base = <span class="number">1</span>;</span><br><span class="line">                data[len = <span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (LL p = al_len - <span class="number">1</span>;p &gt;= <span class="number">0</span>;p --)&#123;</span><br><span class="line">                        <span class="keyword">if</span> (base &gt;= <span class="number">100000000</span>)</span><br><span class="line">                                ++ len,data[len] = <span class="number">0</span>,base = <span class="number">1</span>;</span><br><span class="line">                        data[len] += (al[p] - <span class="string">&#x27;0&#x27;</span>) * base;</span><br><span class="line">                        base *= <span class="number">10</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                len ++;</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span><span class="keyword">const</span></span>&#123;</span><br><span class="line">                LL len = <span class="keyword">this</span>-&gt;len;</span><br><span class="line">                <span class="keyword">if</span> (!len) &#123;</span><br><span class="line">                        <span class="built_in">cout</span> &lt;&lt;<span class="string">&quot;0\n&quot;</span>;</span><br><span class="line">                        <span class="keyword">return</span> ;</span><br><span class="line">                &#125;</span><br><span class="line">                len --;</span><br><span class="line">                LL b = <span class="number">10000000</span>;</span><br><span class="line">                <span class="keyword">while</span>((data[len] / b) == <span class="number">0</span>)</span><br><span class="line">                        b /= <span class="number">10</span>;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%lld&quot;</span>,data[len]);</span><br><span class="line">                <span class="built_in">string</span> out = <span class="string">&quot;&quot;</span>;</span><br><span class="line">                <span class="keyword">for</span> (LL i = len - <span class="number">1</span>;i &gt;= <span class="number">0</span>;-- i)&#123;</span><br><span class="line">                        LL b = <span class="number">10000000</span>,d = data[i];</span><br><span class="line">                        <span class="keyword">while</span>(b)&#123;</span><br><span class="line">                                out += d / b + <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">                                d %= b;</span><br><span class="line">                                b /= <span class="number">10</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; out &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">                <span class="keyword">return</span> ;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> big_int &amp;al)<span class="keyword">const</span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (len != al.len)</span><br><span class="line">                        <span class="keyword">return</span> len &lt; al.len;</span><br><span class="line">                <span class="keyword">for</span> (LL i = len - <span class="number">1</span>;i &gt;= <span class="number">0</span>;-- i)</span><br><span class="line">                        <span class="keyword">if</span> (data[i] != al.data[i])</span><br><span class="line">                                <span class="keyword">return</span> data[i] &lt; al.data[i];</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        big_int <span class="keyword">operator</span> -= (big_int &amp;al)&#123;</span><br><span class="line">                <span class="keyword">for</span> (LL i = <span class="number">0</span>;i &lt; al.len;++ i)</span><br><span class="line">                        data[i] -= al.data[i];</span><br><span class="line">                <span class="keyword">for</span> (LL i = <span class="number">0</span>;i &lt; len;++ i)</span><br><span class="line">                        <span class="keyword">if</span> (data[i] &lt; <span class="number">0</span>)</span><br><span class="line">                                data[i] += <span class="number">100000000</span>,</span><br><span class="line">                                data[i + <span class="number">1</span>] -= <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span> (data[-- len] == <span class="number">0</span> &amp;&amp; len &gt; <span class="number">0</span>);</span><br><span class="line">                len ++; </span><br><span class="line">                <span class="keyword">if</span> (len == <span class="number">1</span> &amp;&amp; data[<span class="number">0</span>] == <span class="number">0</span>)</span><br><span class="line">                        len = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function">LL <span class="title">low_gcd</span><span class="params">(LL a,LL b)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b?low_gcd(b,a % b):a;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">char</span> alpha[<span class="number">20000</span>],beta[<span class="number">20000</span>];</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%s%s&quot;</span>,alpha,beta);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strlen</span>(alpha) &lt;= <span class="number">18</span> &amp;&amp; <span class="built_in">strlen</span>(beta) &lt;= <span class="number">18</span>)&#123;</span><br><span class="line">                LL al,be;</span><br><span class="line">                <span class="built_in">sscanf</span>(alpha,<span class="string">&quot;%lld&quot;</span>,&amp;al);</span><br><span class="line">                <span class="built_in">sscanf</span>(beta ,<span class="string">&quot;%lld&quot;</span>,&amp;be);</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; low_gcd(al,be);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">                big_int al = big_int(alpha),be = big_int(beta);</span><br><span class="line">                <span class="keyword">while</span> (al &lt; be || be &lt; al)&#123;</span><br><span class="line">                        <span class="keyword">if</span> (be &lt; al)</span><br><span class="line">                                al -= be;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                                be -= al;</span><br><span class="line">                &#125;</span><br><span class="line">                al.<span class="built_in">print</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>文结</p>
<p><img src="https://pics1.beautyyu.top/origin/PwL1yR.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://beautyyu.top/2018/08/01/2018-8-1-cf-r500-div2-d%E9%A2%98ChemicalTable%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/custom-logo.jpg">
      <meta itemprop="name" content="BeautyYu言醴">
      <meta itemprop="description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="银河美术馆-Beautyyu">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/08/01/2018-8-1-cf-r500-div2-d%E9%A2%98ChemicalTable%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">cf-r500-div2-d题ChemicalTable|题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-08-01 00:00:00" itemprop="dateCreated datePublished" datetime="2018-08-01T00:00:00+08:00">2018-08-01</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>Innopolis University scientists continue to investigate the periodic table. There are <em>n</em>·<em>m</em> known elements and they form a periodic table: a rectangle with <em>n</em> rows and <em>m</em> columns. Each element can be described by its coordinates (<em>r</em>, <em>c</em>) (1 ≤ <em>r</em> ≤ <em>n</em>, 1 ≤ <em>c</em> ≤ <em>m</em>) in the table.</p>
<p>Recently  scientists discovered that for every four different elements in this  table that form a rectangle with sides parallel to the sides of the  table, if they have samples of three of the four elements, they can  produce a sample of the fourth element using nuclear fusion. So if we  have elements in positions (<em>r</em>1, <em>c</em>1), (<em>r</em>1, <em>c</em>2), (<em>r</em>2, <em>c</em>1), where <em>r</em>1 ≠ <em>r</em>2 and <em>c</em>1 ≠ <em>c</em>2, then we can produce element (<em>r</em>2, <em>c</em>2).</p>
<p><img src="https://pics1.beautyyu.top/origin.png" alt="img"> </p>
<p>Samples  used in fusion are not wasted and can be used again in future fusions.  Newly crafted elements also can be used in future fusions.</p>
<p>Innopolis University scientists already have samples of <em>q</em> elements. They want to obtain samples of all <em>n</em>·<em>m</em>  elements. To achieve that, they will purchase some samples from other  laboratories and then produce all remaining elements using an arbitrary  number of nuclear fusions in some order. Help them to find the minimal  number of elements they need to purchase.</p>
</blockquote>
<p>先下一个定义:</p>
<ul>
<li>联通矩阵:若有一个元素组成的集合,集合内任意一个元素都<strong>已存在</strong>或<strong>可以由同集合已存在的元素合成</strong>.显然这个集合最大时是一个(不一定连续的)矩阵形状,称<strong>联通矩阵</strong></li>
</ul>
<p>观察联通矩阵的性质</p>
<ul>
<li>若有两联通矩阵A,B.其中分别有两元素a,b.这两个元素在同一行(或同一列)时,两矩阵可以合成一个更大联通矩阵C.C的左边界为A,B左边界较小的一个,C的右边界为A,B右边界较大的一个.上下边界同理</li>
<li>若整张地图共有k个联通矩阵(当然它们两两之间无法合并),则只需添加k-1个元素就可以使整张地图联通</li>
</ul>
<p>接着逐行模拟合并联通矩阵的过程</p>
<ul>
<li>考虑前i-1行,若有一个联通矩阵A,包含$J_1,J_2,…,J_k$几个列.第i行存在任意一个元素$(i,J_t),J_t属于J$,则所有$(i,J_1),(i,J_2),…,(i,J_k)$加入矩阵A</li>
<li>考虑前i-1行,若有两个联通矩阵$A={J_{A1},J_{A2},…,J_{Ak}}$,$B={J_{B1},J_{B2},…,J_{Bk}}$,第i行存在两元素$(i,J_{At})$,$(i,J_{Bt})$,$J_{At}属于J_A,J_{Bt}属于J_B$,则将AB合并为一个矩阵</li>
<li>当然以本题规模无法存下整个矩阵.由于我们是逐行枚举的,所以只要存储矩阵中的所有列就可以代表一个<em>包含以上所有行与这些列的交点</em>的联通矩阵了</li>
<li>值得注意的是:用列来表示不会忽略空列,但是会忽略空行.因此应当加上所有空行的数量(显然在一个空行上任意添加一个元素就可以将整个行加入矩阵)</li>
<li>显然以上说的这些应该用并查集维护</li>
</ul>
<p>以下是代码:</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> llint long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">coo</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> x,y;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> coo &amp;be)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (x != be.x) <span class="keyword">return</span> x &lt; be.x;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> y &lt; be.y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;arr[<span class="number">400000</span>];</span><br><span class="line"><span class="comment">//set</span></span><br><span class="line"><span class="keyword">int</span> fa[<span class="number">400000</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">set_</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (k == fa[k]) <span class="keyword">return</span> k;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span> fa[k] = set_(fa[k]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span> k,<span class="keyword">int</span> l)</span></span>&#123;</span><br><span class="line">    fa[set_(k)] = set_(l);</span><br><span class="line">    <span class="keyword">return</span> set_(k);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n,m,k,ans = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; k;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= k;++ i)&#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;arr[i].x,&amp;arr[i].y);</span><br><span class="line">    &#125;</span><br><span class="line">    sort(arr + <span class="number">1</span>,arr + <span class="number">1</span> + k);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= m;++ i)</span><br><span class="line">        fa[i] = i;</span><br><span class="line">    <span class="keyword">int</span> p = <span class="number">0</span>,cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span> ifcnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;++ i)&#123;</span><br><span class="line">        <span class="keyword">int</span> f = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (++p &lt;= k &amp;&amp; arr[p].x == i)&#123;</span><br><span class="line">            ifcnt = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> &amp;y = arr[p].y;</span><br><span class="line">            <span class="keyword">if</span> (!f) f = set_(y);</span><br><span class="line">            <span class="keyword">else</span> merge(y,f);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!ifcnt) ++ cnt;</span><br><span class="line">        ifcnt = <span class="number">0</span>;</span><br><span class="line">        p --;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> f = set_(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>;i &lt;= m;++ i)&#123;</span><br><span class="line">        <span class="keyword">if</span> (set_(f) != set_(i)) &#123;</span><br><span class="line">            ++ ans;</span><br><span class="line">            f = merge(f,set_(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans + cnt;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上.</p>
<p><img src="https://pics1.beautyyu.top/origin/PKOE3d.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://beautyyu.top/2018/07/23/2018-7-23-ZJOI2005%E5%8D%88%E9%A4%90%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/custom-logo.jpg">
      <meta itemprop="name" content="BeautyYu言醴">
      <meta itemprop="description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="银河美术馆-Beautyyu">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/23/2018-7-23-ZJOI2005%E5%8D%88%E9%A4%90%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">ZJOI2005午餐|题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-07-23 12:12:12" itemprop="dateCreated datePublished" datetime="2018-07-23T12:12:12+08:00">2018-07-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>上午的训练结束了，THU  ACM小组集体去吃午餐，他们一行N人来到了著名的十食堂。这里有两个打饭的窗口，每个窗口同一时刻只能给一个人打饭。由于每个人的口味（以及胃口）不同，所以他们要吃的菜各有不同，打饭所要花费的时间是因人而异的。另外每个人吃饭的速度也不尽相同，所以吃饭花费的时间也是可能有所不同的。</p>
<p>THU ACM小组的吃饭计划是这样的：先把所有的人分成两队，并安排好每队中各人的排列顺序，然后一号队伍到一号窗口去排队打饭，二号队伍到二号窗口去排队打饭。每个人打完饭后立刻开始吃，所有人都吃完饭后立刻集合去六教地下室进行下午的训练。</p>
<p>现在给定了每个人的打饭时间和吃饭时间，要求安排一种最佳的分队和排队方案使得所有人都吃完饭的时间尽量早。</p>
<p>假设THU ACM小组在时刻0到达十食堂，而且食堂里面没有其他吃饭的同学（只有打饭的师傅）。每个人必须而且只能被分在一个队伍里。两个窗口是并行操作互不影响的，而且每个人打饭的时间是和窗口无关的，打完饭之后立刻就开始吃饭，中间没有延迟。</p>
<p>现在给定N个人各自的打饭时间和吃饭时间，要求输出最佳方案下所有人吃完饭的时刻。</p>
</blockquote>
<p>显然吃饭慢的应该先排队,满足贪心</p>
<p>可以设计状态dp(l1,l2)表示队伍长度分别为l1,l2时的最短时间</p>
<p>但是注意到两个队伍的长度是分别变化的,所以状态应当同时维护两队的进食总时间</p>
<p>转移方程见代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> llint long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">xxx</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> a,b;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> xxx &amp;be)<span class="keyword">const</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> b &gt; be.b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;arr[<span class="number">300</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">yyy</span>&#123;</span></span><br><span class="line">    <span class="keyword">int</span> p1,p2;</span><br><span class="line">&#125;___[<span class="number">100000</span>],*dp = ___ + <span class="number">50000</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n ;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;++ i)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>,&amp;arr[i].a,&amp;arr[i].b);</span><br><span class="line">    sort (arr + <span class="number">1</span>,arr + <span class="number">1</span> + n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">-45000</span>;i &lt; <span class="number">45000</span>;++ i)</span><br><span class="line">        dp[i].p1 = dp[i].p2 = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">    dp[<span class="number">0</span>] = yyy&#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line">    <span class="keyword">int</span> sum_ = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;++ i)&#123;</span><br><span class="line">        sum_ += arr[i].a;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> l1 = sum_;l1 &gt;= <span class="number">0</span>;-- l1)&#123;</span><br><span class="line">            <span class="keyword">int</span> l2 = sum_ - l1;</span><br><span class="line">            <span class="keyword">int</span> </span><br><span class="line">                tmp1_p1 = <span class="built_in">max</span>(dp[l1 - arr[i].a].p1,l1 + arr[i].b),</span><br><span class="line">                        tmp1_p2 = dp[l1 - arr[i].a].p2, </span><br><span class="line">                        tmp2_p1 = dp[l1].p1,</span><br><span class="line">                        tmp2_p2 = <span class="built_in">max</span>(dp[l1].p2,l2 + arr[i].b);</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">max</span>(tmp1_p1,tmp1_p2) &lt; <span class="built_in">max</span>(tmp2_p1,tmp2_p2))&#123;</span><br><span class="line">                dp[l1] = yyy&#123;tmp1_p1,tmp1_p2&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                dp[l1] = yyy&#123;tmp2_p1,tmp2_p2&#125;;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= sum_;++ i)</span><br><span class="line">        ans = <span class="built_in">min</span>(<span class="built_in">max</span>(dp[i].p1,dp[i].p2),ans);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; ans;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上.<br><img src="https://pics1.beautyyu.top/origin/PwLhlj.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://beautyyu.top/2018/07/23/2018-7-23-AHOI2009%E4%B8%AD%E5%9B%BD%E8%B1%A1%E6%A3%8B%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/custom-logo.jpg">
      <meta itemprop="name" content="BeautyYu言醴">
      <meta itemprop="description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="银河美术馆-Beautyyu">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/23/2018-7-23-AHOI2009%E4%B8%AD%E5%9B%BD%E8%B1%A1%E6%A3%8B%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">AHOI2009中国象棋|题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-07-23 00:00:00" itemprop="dateCreated datePublished" datetime="2018-07-23T00:00:00+08:00">2018-07-23</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>这次小可可想解决的难题和中国象棋有关，在一个N行M列的棋盘上，让你放若干个炮（可以是0个），使得没有一个炮可以攻击到另一个炮，请问有多少种放置方法。大家肯定很清楚，在中国象棋中炮的行走方式是：一个炮攻击到另一个炮，当且仅当它们在同一行或同一列中，且它们之间恰好 有一个棋子。你也来和小可可一起锻炼一下思维吧！</p>
</blockquote>
<p>由于比较弱的缘故,稍微涉及数学的题目就做了很久..</p>
<p>设计状态$dp(k,n_{1},n_{2})$为考虑前k行时,设有$n_1$列放一个炮,$n_2$列放两个炮(剩下的列不放炮)时的所有方案数</p>
<p>若在第$k$行放置$0$个炮</p>
<p>$dp(k,n_1,n_2) += dp(k-1,n_1,n_2)$</p>
<p>若在第$k$行放置$1$个炮</p>
<ol>
<li>放在只有$0$个炮的列上:$dp(k,n_1,n_2) += dp(k - 1,n_1 - 1,n_2)\times (第k-1行的n_0)$</li>
<li>放在只有$1$个炮的列上:$dp(k,n_1,n_2) += dp(k - 1,n_1 + 1,n_2 - 1)\times (第k-1行的n_1)$</li>
</ol>
<p>若在第$k$行放置$2$个炮</p>
<ol>
<li>两个炮放在只有$0$个炮的列上</li>
<li>两个炮放在只有$1$个炮的列上</li>
<li>一个炮放在有$0$个炮的列上,一个炮放在有$1$个炮的列上</li>
</ol>
<p>具体转移与约束见下代码</p>
<p>注意到复杂度为$O(nm^2)$</p>
<p>所以当$m&gt;n$时交换一下两者可能会快一些??</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> llint long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> llint base = <span class="number">9999973</span>;</span><br><span class="line">llint dp[<span class="number">150</span>][<span class="number">150</span>][<span class="number">150</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n,m;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= n;++ i)&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> n1 = <span class="number">0</span>;n1 &lt;= m;++ n1)&#123;</span><br><span class="line">                        <span class="keyword">for</span> (<span class="keyword">int</span> n2 = <span class="number">0</span>;n2 &lt;= m - n1;++ n2)&#123;</span><br><span class="line">                                <span class="comment">//put 0 pao </span></span><br><span class="line">                                dp[i][n1][n2] = dp[i - <span class="number">1</span>][n1][n2];</span><br><span class="line">                                <span class="comment">//put 1 pao</span></span><br><span class="line">                                <span class="keyword">if</span>(n1 &gt; <span class="number">0</span>)</span><br><span class="line">                                        dp[i][n1][n2] = (dp[i - <span class="number">1</span>][n1 - <span class="number">1</span>][n2] * (m - n1 + <span class="number">1</span> -n2) % base + dp[i][n1][n2]) % base;</span><br><span class="line">                                <span class="keyword">if</span>(n2 &gt; <span class="number">0</span>)</span><br><span class="line">                                        dp[i][n1][n2] = (dp[i - <span class="number">1</span>][n1 + <span class="number">1</span>][n2 - <span class="number">1</span>] * (n1 + <span class="number">1</span>) % base + dp[i][n1][n2]) % base;</span><br><span class="line">                                <span class="comment">//put 2 pao</span></span><br><span class="line">                                <span class="keyword">if</span>(n1 &gt; <span class="number">1</span>)&#123;</span><br><span class="line">                                        <span class="keyword">int</span> n0_ = m - n1 + <span class="number">2</span> - n2;</span><br><span class="line">                                        dp[i][n1][n2] = ((dp[i - <span class="number">1</span>][n1 - <span class="number">2</span>][n2] * (n0_ * n0_ - n0_) / <span class="number">2</span>) % base + dp[i][n1][n2]) % base;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">if</span>(n2 &gt; <span class="number">1</span>)&#123;</span><br><span class="line">                                        <span class="keyword">int</span> n1_ = n1 + <span class="number">2</span>;</span><br><span class="line">                                        dp[i][n1][n2] = ((dp[i - <span class="number">1</span>][n1_][n2 - <span class="number">2</span>] * (n1_ * n1_ - n1_) / <span class="number">2</span>) % base + dp[i][n1][n2]) % base;</span><br><span class="line">                                &#125;</span><br><span class="line">                                <span class="keyword">if</span>(n2 &gt; <span class="number">0</span> &amp;&amp; n1 &gt; <span class="number">0</span>)&#123;</span><br><span class="line">                                        <span class="keyword">int</span> n0_ = m - n1 + <span class="number">1</span> - n2;</span><br><span class="line">                                        dp[i][n1][n2] = (dp[i - <span class="number">1</span>][n1][n2 - <span class="number">1</span>] * (n1 * n0_) % base + dp[i][n1][n2]) % base;</span><br><span class="line">                                &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        llint ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt;= m;++ i)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt;= m - i;++ j)</span><br><span class="line">        ans = (ans + dp[n][i][j]) % base;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://pics1.beautyyu.top/origin/PKOqqP.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://beautyyu.top/2018/07/20/2018-7-20-Luogu1156%E5%9E%83%E5%9C%BE%E9%99%B7%E9%98%B1%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/custom-logo.jpg">
      <meta itemprop="name" content="BeautyYu言醴">
      <meta itemprop="description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="银河美术馆-Beautyyu">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/20/2018-7-20-Luogu1156%E5%9E%83%E5%9C%BE%E9%99%B7%E9%98%B1%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">Luogu1156垃圾陷阱|题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-07-20 12:12:12" itemprop="dateCreated datePublished" datetime="2018-07-20T12:12:12+08:00">2018-07-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <blockquote>
<p>卡门――农夫约翰极其珍视的一条<code>Holsteins</code>奶牛――已经落了到“垃圾井”中。“垃圾井”是农夫们扔垃圾的地方，它的深度为 D(2≤D≤100)D(2 \le D \le 100)D(2≤D≤100) 英尺。</p>
<p>卡门想把垃圾堆起来，等到堆得与井同样高时，她就能逃出井外了。另外，卡门可以通过吃一些垃圾来维持自己的生命。</p>
<p>每个垃圾都可以用来吃或堆放，并且堆放垃圾不用花费卡门的时间。</p>
<p>假设卡门预先知道了每个垃圾扔下的时间 t(0&lt;t≤1000)t(0&lt; t \le 1000)t(0&lt;t≤1000) ，以及每个垃圾堆放的高度 h(1≤h≤25h(1 \le h \le 25h(1≤h≤25 )和吃进该垃圾能维持生命的时间 f(1≤f≤30)f(1 \le f \le 30)f(1≤f≤30) ，要求出卡门最早能逃出井外的时间，假设卡门当前体内有足够持续 101010 小时的能量，如果卡门 101010 小时内没有进食，卡门就将饿死。</p>
</blockquote>
<p>是一道经典的dp题,并没有太大的难度,但有值得注意的地方</p>
<p>题目中存在三个元素:时间,高度,生命</p>
<p>其中生命和时间都处于时间轴中,显然依照时间轴划分阶段,根据直觉应当以垃圾掉落时间划阶段</p>
<p>接着生命和高度都可以作为状态.</p>
<p>如果以生命作为状态</p>
<ol>
<li>数据范围大,导致复杂度(常数)大</li>
<li>处于时间轴中,设计转移策略时可能干扰思路</li>
<li>转移策略较复杂,且不方便枚举</li>
</ol>
<p>总之显得很不自然</p>
<p>所以应当选定高度作为状态</p>
<p>接着设计转移策略时:</p>
<ol>
<li>填表法:注意到如果高度大于D(即卡门已经得救时),难以枚举</li>
<li>刷表法:自然且方便判定死亡或得救</li>
</ol>
<p>总体上是一道考验代码能力的题目.</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> llint long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> xx[<span class="number">2</span>][<span class="number">200</span>],*dp[<span class="number">2</span>];</span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">xxx</span>&#123;</span></span><br><span class="line">        <span class="keyword">int</span> t,f,h;</span><br><span class="line">        <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> xxx &amp;be)<span class="keyword">const</span>&#123;</span><br><span class="line">                <span class="keyword">if</span> (t != be.t)</span><br><span class="line">                        <span class="keyword">return</span> t &lt; be.t;</span><br><span class="line">                <span class="keyword">if</span> (f != be.t)</span><br><span class="line">                        <span class="keyword">return</span> f &gt; be.f;</span><br><span class="line">                <span class="keyword">return</span> h &gt; be.f;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;tra[<span class="number">200</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> D,G,ans = <span class="number">0x3f3f3f3f</span>,ans2 = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; D &gt;&gt; G;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= G;++ i)</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;tra[i].t,&amp;tra[i].f,&amp;tra[i].h);</span><br><span class="line">        sort(tra + <span class="number">1</span>,tra + <span class="number">1</span> + G);</span><br><span class="line">        <span class="built_in">memset</span>(xx,<span class="number">-1</span>,<span class="keyword">sizeof</span>(xx));</span><br><span class="line">        dp[<span class="number">0</span>] = xx[<span class="number">0</span>];dp[<span class="number">1</span>] = xx[<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">10</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= G;++ i)&#123;</span><br><span class="line">                swap(dp[<span class="number">0</span>],dp[<span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; D;++ j)&#123;</span><br><span class="line">                        <span class="keyword">if</span> (dp[<span class="number">0</span>][j] &lt; tra[i].t)</span><br><span class="line">                                <span class="keyword">continue</span>;</span><br><span class="line">                        <span class="keyword">if</span> (j + tra[i].h &gt;= D) ans = <span class="built_in">min</span>(ans,tra[i].t);</span><br><span class="line">                        dp[<span class="number">1</span>][j + tra[i].h] = <span class="built_in">max</span>(dp[<span class="number">1</span>][j + tra[i].h],dp[<span class="number">0</span>][j]);</span><br><span class="line">                        dp[<span class="number">1</span>][j] = <span class="built_in">max</span>(dp[<span class="number">1</span>][j],dp[<span class="number">0</span>][j] + tra[i].f);</span><br><span class="line">                        ans2 = <span class="built_in">max</span>(ans2,dp[<span class="number">1</span>][j]);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ans == <span class="number">0x3f3f3f3f</span>)&#123;</span><br><span class="line">                <span class="built_in">cout</span> &lt;&lt; ans2;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上.</p>
<p><img src="https://pics1.beautyyu.top/origin/PKObrt.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://beautyyu.top/2018/07/20/2018-7-20-%E6%B0%B4%E9%A2%98%E7%BA%AA%E5%BD%95%E9%A2%98%E8%A7%A3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/custom-logo.jpg">
      <meta itemprop="name" content="BeautyYu言醴">
      <meta itemprop="description" content="热爱ACGN和技术的学生; 谈论音乐, 动画, 文学, 设计和自然科学">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="银河美术馆-Beautyyu">
    </span>

    
    
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2018/07/20/2018-7-20-%E6%B0%B4%E9%A2%98%E7%BA%AA%E5%BD%95%E9%A2%98%E8%A7%A3/" class="post-title-link" itemprop="url">水题纪录|题解</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2018-07-20 00:00:00" itemprop="dateCreated datePublished" datetime="2018-07-20T00:00:00+08:00">2018-07-20</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>是一篇记录比较水的题目的文章</p>
<hr>
<h2 id="2018-7-20"><a href="#2018-7-20" class="headerlink" title="2018-7-20"></a>2018-7-20</h2><h3 id="Luogu1373小a和uim之大逃离"><a href="#Luogu1373小a和uim之大逃离" class="headerlink" title="Luogu1373小a和uim之大逃离"></a>Luogu1373小a和uim之大逃离</h3><blockquote>
<h2 id="题目背景"><a href="#题目背景" class="headerlink" title="题目背景"></a>题目背景</h2><p>小a和uim来到雨林中探险。突然一阵北风吹来，只见前方出现了一个怪物，低沉着声音说：“呵呵，既然你们来到这，只能活下来一个！”</p>
<h2 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h2><p>瞬间，地面上出现了一个n*m的巨幅矩阵，矩阵的每个格子上有一坨0~k不等量的魔液。怪物各给了小a和uim一个魔瓶，说道，你们可以从矩阵的任一个格子开始，每次向右或向下走一步，从任一个格子结束。开始时小a用魔瓶吸收地面上的魔液，下一步由uim吸收，如此交替下去，并且要求最后一步必须由uim吸收。魔瓶只有k的容量，也就是说，如果装了k+1那么魔瓶会被清空成零，如果装了k+2就只剩下1，依次类推。怪物还说道，最后谁的魔瓶装的魔液多，谁就能活下来. 沉默片刻，小a灵机一动，如果他俩的魔瓶中魔液一样多，不就都能活下来了吗？</p>
<p>现在他想知道他们都能活下来有多少种方法。</p>
</blockquote>
<p>特征:</p>
<ol>
<li>存在负值</li>
<li>考虑两个元素之差取模后有周期性(存疑)</li>
</ol>
<p><img src="https://pics1.beautyyu.top/origin/PKXAaT.jpg"></p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 2017 – 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">BeautyYu言醴</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script>

  




  <script src="/js/local-search.js"></script>












  








  

  
      <script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              const target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      const script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3.1.0/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.typesetClear();
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/haru02.model.json"},"display":{"position":"right","width":275,"height":700},"mobile":{"show":false},"log":false,"tagMode":false});</script><!-- hexo-inject:begin --><!-- hexo-inject:end --></body>
</html>
